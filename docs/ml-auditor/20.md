# 20.如何使用食谱

这一章将包含如何使用我们提出的方法来获得预期结果的细节。它将概述食谱所需的系统要求，然后读者可以在哪里找到代码。它还将讨论审计员如何使用这个方法，并根据他们的需要进行调整。实施者将需要其他具体的细节，并且可能需要以不同于审计者自己的方式使用该方法，这将在本章的结尾讨论。最后，本章末尾强调了实施方面的考虑，包括操作 ML 模型。

## 什么是食谱？

食谱帮助读者以食谱的形式应用他们在本书中学到的东西。每个配方代表了一个审计师在现实世界中试图解决的一类问题。详细探讨了内部审计面临的一些业务问题，并将分享相应的解决方案。每个食谱都采用最终产品的格式，后面是所需的成分以及如何使用它们。代码通过 GitHub 共享。为了确保实现细节对读者来说是清楚的，这些说明是基于领域和技术专长来划分的。如果审计员不熟悉 Python，他们可以向内部 IT 部门或外部顾问提供实现细节，以帮助他们代表自己实现。该解决方案还将从审计的角度进行讨论，以确保非技术审计人员能够轻松理解。

每个配方将由**四个**部分组成:

*   **这道菜。**本节定义上下文并设置业务问题的背景。这里还列出了实施建议的解决方案的好处。

*   **配料。**本节将提供所用数据输入及其详细描述的列表。这里列出了数据来源和来源以及数据准备步骤。

*   **说明。**在本节中，以循序渐进的方式详细说明了配料的使用程序。

*   **变化与上菜。**本节介绍了修改解决方案以解决其他问题的一些方法。最后，还描述了将解决方案部署到生产环境中的细节。

尽管对审计人员来说，完全理解模型和它们的直觉并不是必需的，但是他们可以参考“服务”部分来获得一个总体的概述。

## 先决条件

Python 3 和 Jupyter Notebook 是创建和运行食谱中给出的笔记本所必需的。

推荐的方法是通过 Anaconda ( [`www.anaconda.com`](http://www.anaconda.com) )安装它们。Anaconda 安装 Python、Jupyter Notebook 和其他常用的数据科学包。

## 在哪里可以找到 Python 代码？

从这个 Git 仓库克隆:

[T2`https://github.com/cube27/mlforauditors.git`](https://github.com/cube27/mlforauditors.git)

您可以使用以下终端命令来克隆上述存储库:

```
git clone https://github.com/cube27/mlforauditors.git mlforauditors

```

## 实施注意事项

在实施解决方案时，可能会出现以下两种情况之一:

1.  审计员了解人工智能/人工智能技术领域。

2.  审计员利用另一个团队(内部或外部)的 AI/ML 技术专长。

对于第一种情况，假设内部审计员除了熟悉职能领域知识之外，还熟悉 Python 编程语言、Jupyter 笔记本和 ML 模型。具有 ML 和 Python 背景的 IT 审计员是这种情况下所需技能的一个例子。

在第二个场景中，考虑一个审计员与另一个精通 Python 和/或 ML 的团队合作的情况。可能有多个内部或外部团队帮助审计员实施解决方案。这方面的一个例子是，IT 审计员利用内部 IT 团队的 Python 专业知识与他们合作，并利用外部顾问的 ML 专业知识来帮助他们。

在这两种情况下，审计员将把他们的职能风险管理和合规专业知识纳入解决方案。将领域专业知识反复注入到模型的迭代中对于最大化项目的影响是必不可少的。

建议使用 CRISP-DM 流程来实施配方。解决方案，包括模型和输入，将需要根据人们试图解决的问题进行重新设计。尽管菜谱中已经提供了解决方案，但重点在于理解方法而不是代码是非常重要的。

例如，下一章包含创建欺诈和异常检测 ML 解决方案的方法。提供的代码是通过 CRISP-DM 过程的迭代的最终产品。它涉及业务理解、底层数据理解、数据准备、建模、评估，以及最终将模型部署到生产中。要为另一个组织利用确切的解决方案，需要确定该组织的相关需求/问题。组织的可用数据需要合并到模型的形成中。基于数据质量，可能涉及额外的数据准备步骤。可能需要重新访问提供的模型，以确保它与新数据相结合。这个新模型的性能需要评估和优化。通过实验和各种迭代，将产生最终模型。

然后，可以根据内部审计团队的资源将最终模型部署到组织的生产环境中。一个有能力收集和分析数据的成熟的内部审计团队可能能够将模型投入生产。没有这些资源的内部审计团队可能需要 it 运营部门来帮助他们实施解决方案。一旦模型投入生产，内部审计将需要开发一个流程来识别和跟踪使用欺诈和异常检测模型生成的异常情况。需要持续监控模型本身的性能，以通过优化识别和纠正模型漂移。模型漂移是由于数据的变化以及输入变量和目标变量之间的关系而导致的模型性能随时间的退化。

图 [20-1](#Fig1) 显示了数据科学的 CRISP-DM 流程，该流程在之前的章节中已有介绍。

![](../images/513842_1_En_20_Chapter/513842_1_En_20_Fig1_HTML.jpg)

图 20-1

用于数据科学项目的 CRISP-DM 框架

在将最终模型投入生产之前，首先建议使用提供的方法构建概念验证(POC)。POC 可以使用有限范围的数据进行迭代，并尽快获得最低可行产品(MVP)。在解决方案上花费时间和资源之前，POC 是必要的，这样构建解决方案所需的收益和工作就可以在早期明确。如果收益大于成本，可以利用阶段门审查流程，通过所有可用数据实施更详细的解决方案。

## 结论

第 [21](21.html) 至 [27](27.html) 章中提供的用例显示了 ML 在普通审计应用中的应用。这些问题及其解决方案类似于烹饪食谱。它们被分成以下几个部分:菜肴、配料、说明、变化和上菜。这些解决方案附有 Jupyter 笔记本，可通过公开的 GitHub 库获得。建议在将模型投入生产之前，先构建一个包含较小数据集和简单模型的概念验证(PoC)。这一点很重要，因为并非所有模型都适合在生产环境中运行。在生产中运行模型的好处必须超过将模型投入生产所需的资源和成本。